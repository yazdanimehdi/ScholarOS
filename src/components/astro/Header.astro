---
import Nav from './Nav.astro';
import ThemeToggle from '../vue/ThemeToggle.vue';
import MobileNav from '../vue/MobileNav.vue';
import { getSiteConfig, getSiteName } from '../../lib/config';

const config = getSiteConfig();
const siteName = getSiteName();
---

<header class="w-full bg-white/95 dark:bg-[#0d1117]/95 backdrop-blur-sm border-b border-surface-200 dark:border-[#21262d]">
  <div class="max-w-[930px] mx-auto px-4 sm:px-6">
    <div class="flex h-14 items-center justify-between">
      <!-- Logo / Lab name -->
      <a href="/" class="shrink-0 whitespace-nowrap text-base font-medium text-surface-900 dark:text-[#e6edf3] hover:text-primary-600 dark:hover:text-accent-400 transition-colors" data-nav-logo>
        {siteName}
      </a>

      <!-- Desktop Nav -->
      <div class="hidden md:flex items-center gap-1 min-w-0">
        <Nav />
        <div class="ms-2 ps-2 border-s border-surface-200 dark:border-[#21262d]">
          <ThemeToggle client:load />
        </div>
      </div>

      <!-- Mobile: theme toggle + hamburger -->
      <div class="flex items-center gap-1 md:hidden">
        <ThemeToggle client:load />
        <MobileNav navItems={config.nav} client:only="vue" />
      </div>
    </div>
  </div>
</header>
